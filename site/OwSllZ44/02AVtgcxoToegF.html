<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>Открыта</title>

        <link
            rel="icon"
            href="./images/НЕПРИКОСНОВЕННА.jpg"
            type="image/x-icon"
        />
        <link
            rel="shortcut icon"
            href="./images/НЕПРИКОСНОВЕННА.jpg"
            type="image/x-icon"
        />

        <link rel="stylesheet" href="./css/style.css" />
        <link rel="stylesheet" href="./css/cursor.css" />
    </head>

    <body class="d-none">
        <img
            id="img-cursor"
            class="img-cursor z-6"
            src="./images/default.png"
            alt="icon"
        />
        <div id="div-photo" class="div-photo">
            <img id="img-portrait"
                class="img-portrait z-1"
                src="./images/НЕПРИКОСНОВЕННА.png"
                alt="НЕПРИКОСНОВЕННА"
            />
            <button
                id="btn-spittle"
                class="btn-click button-spittle z-4"
                onclick="spittle()"
            >
                Плюнуть
            </button>
            <button
                id="btn-kiss"
                class="btn-click button-kiss z-4"
                onclick="kiss()"
            >
                Поцеловать
            </button>
        </div>
    </body>

    <style>
        #div-photo {
            width: 100%;
            height: 100%;
        }

        #img-portrait {
            position: absolute;
            width: 500%;
            height: 100%;
            top: 50%;
            left: 66%;
            transform: translate(-50%, -50%);
        }

        #button-spittle {
            top: 31%;
            left: 55%;
            font-size: var(--font-size);
        }

        #button-kiss {
            top: 74%;
            left: 51%;
            font-size: var(--font-size);
        }

        @media (min-width: 768px) {

            #img-portrait {
                left: 30%;
                width: 200%;
            }

            #button-spittle {
                top: 31%;
                left: 27%;
            }

            #button-kiss {
                top: 74%;
                left: 24%;
            }
        }

        @media (min-width: 1024px) {

            #img-portrait {
                left: 50%;
                width: 200%;
            }

            #button-spittle {
                top: 31%;
                left: 47%;
            }

            #button-kiss {
                top: 74%;
                left: 44%;
            }
        }

        @media (min-width: 1280px) {

            #img-portrait {
                left: 50%;
                width: 200%;
            }

            #button-spittle {
                top: 31%;
                left: 47%;
            }

            #button-kiss {
                top: 74%;
                left: 44%;
            }
        }

        @media (min-width: 1440px) {

            #img-portrait {
                left: 50%;
                width: 200%;
            }

            #button-spittle {
                top: 31%;
                left: 46%;
            }

            #button-kiss {
                top: 74%;
                left: 44%;
            }
        }

        @media (min-width: 1600px) {

            #img-portrait {
                left: 50%;
                width: 200%;
            }

            #button-spittle {
                top: 31%;
                left: 46%;
            }

            #button-kiss {
                top: 74%;
                left: 44%;
            }
        }

        @media (min-width: 1920px) {

            #img-portrait {
                left: 50%;
                width: 200%;
            }

            #button-spittle {
                top: 31%;
                left: 46%;
            }

            #button-kiss {
                top: 74%;
                left: 44%;
            }
        }

    </style>

    <script src="/src/jquery-3.7.1.min.js"></script>
    <script src="./js/optimization.js"></script>
    <script src="./js/links/02AVtgcxoToegF.js"></script>
    <script type="text/javascript">

        // 
        // CURSOR MOVE CONTROLL
        // 

        // Настройки cursorController
        const SETTINGS = {
            elementCursor: $("#img-cursor"), // Объект курсора
            timeout: 0, // Задержка перед началом
            startX: 0.5, // Начальная позиция от width по X
            startY: 0.5, // Начальная позиция от рушпре по Y
            stiffness: 0.4, // Жесткость пружины (скорость реакции)
            damping: 0.97, // Затухание (плавность остановки)
            mass: 0.1, // Масса объекта
            maxSpeed: 10, // Максимальная скорость
        };
        
        const Zone = {
            NONE: 0,
            PHOTO: 1,
            BUTTON_SPITTLE: 2,
            BUTTON_KISS: 3
        };
        var CurrentZone = Zone.NONE;
        
        const BUTTON_SPITTLE = $('#btn-spittle')
        const BUTTON_KISS = $('#btn-kiss')
        var ElementZones = {
            [Zone.NONE]: null,
            [Zone.PHOTO]: $("#img-portrait"),
            [Zone.BUTTON_SPITTLE]: BUTTON_SPITTLE,
            [Zone.BUTTON_KISS]: BUTTON_KISS,
        };

        // 
        // CURSOR CLICK CONTROLL
        // 

        const DURATION = 600;
        var SPITTLE = 0;
        var KISS = 0;

        function spittle() {
            SPITTLE += 1;
            $("#btn-spittle").prop("disabled", true);

            setTimeout(() => {
                if (isBoth()) 
                    qwerty();
                else 
                    toUnizit();
            }, DURATION);

        }

        function kiss() {
            KISS += 1;
            $("#btn-kiss").prop("disabled", true);
            
            setTimeout(() => {
                if (isBoth()) 
                    qwerty();
                else 
                    toUnizitsya();
            }, DURATION);

        }

        function isBoth() {
            return KISS > 0 && SPITTLE > 0;
        }

        //
        //
        //

        const LINK = "030m62QKkgdYxQ";

        function GoToNextPage() {
            window.location.href = `./${LINK}.html`;
        }
    </script>
    <script src="./js/cursorMoveController.js"></script>
</html>
